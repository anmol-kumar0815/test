this is state 3 in testing 2 branch
